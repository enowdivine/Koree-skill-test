import { resolve, join } from 'upath';

const name = "nuxt-typed-vuex";
const version = "0.3.0";

const nuxtTypedVuex = function nuxtTypedVuex2() {
  if (!this.options.store)
    console.warn("You do not have a store defined.");
  this.addPlugin({
    src: resolve(__dirname, "../template/plugin.js"),
    fileName: "nuxt-typed-vuex.js",
    options: {
      store: join(this.options.buildDir, "store")
    }
  });
  this.options.build.transpile = this.options.build.transpile || [];
  this.options.build.transpile.push(/typed-vuex/);
};
nuxtTypedVuex.meta = { name, version };

export { nuxtTypedVuex as default };
