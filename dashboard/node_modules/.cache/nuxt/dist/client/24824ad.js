(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{350:function(t,e,r){"use strict";r.r(e);var o=r(33),n=(r(89),{name:"AddAuthor",data:function(){return{form:{author_name:"",number_of_books:0},show:!1}},methods:{onSubmit:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var data,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),""!==e.form.author_name){r.next=4;break}return e.show=!0,r.abrupt("return");case 4:if(data={author_name:e.form.author_name,number_of_books:e.form.number_of_books},r.prev=5,null===(o=localStorage.getItem("access_token"))){r.next=14;break}return r.next=10,e.$axios.post("/add-author",data,{headers:{Authorization:"Bearer ".concat(o),Accept:"multipart/form-data","Content-Type":"application/json"}});case 10:(r.sent.status=200)&&(e.$toast.success("Author added",{duration:5e3}),e.form.author_name="",e.form.number_of_books=0),r.next=16;break;case 14:e.$toast.error("Not Authorized",{duration:5e3}),e.$router.push({path:"/"});case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),e.$toast.error("Check all fields",{duration:5e3}),console.error(r.t0);case 22:case"end":return r.stop()}}),r,null,[[5,18]])})))()}}}),m=r(59),component=Object(m.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-3",modifiers:{"modal-3":!0}}],ref:"Btn",staticClass:"bg-primary ml-2 w-100"},[t._v("Add Author")]),t._v(" "),e("b-modal",{attrs:{id:"modal-3",title:"Add Author"},on:{ok:t.onSubmit}},[e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-1",label:"Author Name:","label-for":"input-1"}},[e("b-form-input",{attrs:{id:"input-1",placeholder:"Enter author name",required:""},model:{value:t.form.author_name,callback:function(e){t.$set(t.form,"author_name",e)},expression:"form.author_name"}})],1)],1),t._v(" "),t.show?e("div",[e("p",{staticClass:"text-danger"},[t._v("Author name is required*")])]):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);